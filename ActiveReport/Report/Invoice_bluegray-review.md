# 帳票デザインレビュー結果

## 基本情報
- **対象ファイル**: Invoice_bluegray.rdlx
- **レビュー日時**: 2026-01-04
- **仕様書**: `.github/report-common-design.md`（売上伝票用）
- **実装内容**: 請求書

## レビューサマリー

### 総合評価
⚠️ **要修正** - 複数の重要な相違点が検出されました

### チェック結果

レビュー項目|結果|備考
---|---|---
フォント・サイズが仕様書と一致しているか|❌ 不一致|IPAゴシック、メイリオが使用されている
色（前景色・背景色）が仕様書通りか|❌ 不一致|グレーブルー系の配色が使用されている
レイアウト（配置・余白）が仕様に準拠しているか|⚠️ 一部相違|要確認
罫線の太さ・種類が正しいか|⚠️ 未確認|詳細確認が必要
データフォーマット（日付、金額など）が統一されているか|⚠️ 未確認|実データでの確認が必要
テーブル列幅が仕様通りか|⚠️ 未確認|詳細確認が必要
特記事項の要件を満たしているか|❌ 不一致|帳票種類が異なる

## 相違点詳細

### 1. フォント・サイズの相違

#### タイトル部分

項目|仕様書|実装|判定|重要度
---|---|---|---|---
フォント名|MS ゴシック|IPAゴシック|❌ 不一致|高
フォントサイズ|18pt|36pt|❌ 不一致|高
フォントウェイト|太字（700）|標準（400）|❌ 不一致|中
用途|帳票タイトル「売上伝票」|帳票タイトル「請求書」|⚠️ 異なる|低

#### 本文・テーブル部分

要素|仕様書|実装|判定
---|---|---|---
ヘッダー項目名|MS ゴシック 10pt 標準|IPAゴシック 14pt 標準|❌ 不一致
テーブルヘッダー|MS ゴシック 9pt 太字|IPAゴシック（サイズ未確認）|❌ 不一致
テーブルデータ|MS ゴシック 9pt 標準|IPAゴシック 12pt 標準|❌ 不一致
一部要素|MS ゴシック|メイリオ|❌ 不一致

### 2. 色の相違

#### 前景色・背景色

要素|仕様書（前景/背景）|実装（前景/背景）|判定|差分
---|---|---|---|---
タイトル|#000000 / #FFFFFF|#efedea / #697683|❌ 不一致|グレーブルー配色
本文テキスト|#000000 / #FFFFFF|#505050 / #FFFFFF|❌ 不一致|グレー系
テーブルヘッダー|#000000 / #FFFFFF|#efedea / #697683|❌ 不一致|グレーブルー配色
宛先情報|#000000 / ピンク(#FFF0F5)|#505050 / （未確認）|❌ 不一致|背景色なし

#### 罫線色

要素|仕様書|実装|判定
---|---|---|---
タイトル枠|黒(#000000) 2pt|（実装なし？）|⚠️ 要確認
宛先情報枠|黒(#000000) 1pt|#697683 1pt（下線のみ）|❌ 不一致
テーブル外枠|黒(#000000) 1.5pt|（未確認）|⚠️ 要確認

### 3. レイアウトの相違

項目|仕様書|実装|判定|備考
---|---|---|---|---
帳票種類|売上伝票|請求書|⚠️ 種類が異なる|別仕様書が必要か検討
ページサイズ|A4横（297mm × 210mm）|Height: 29.7cm|✅ 概ね一致|A4縦相当
タイトル配置|上部中央|Left=0cm（左寄せ？）|⚠️ 要確認|中央揃え設定あり
タイトル余白|上10mm、下5mm|Top=0.383667cm|⚠️ 異なる|約3.8mm
宛先情報配置|左上（左10mm、上30mm）|Top=3.939666cm、Left=0cm|⚠️ 異なる|約39mm

## 修正推奨事項

### 優先度：高

#### 1. フォント統一
**現状の問題点**:
- IPAゴシック、メイリオなど複数フォントが混在
- 仕様書ではMS ゴシックで統一

**修正方法**:
```xml
<!-- すべての要素で以下のように変更 -->
<FontFamily>MS ゴシック</FontFamily>
```

**対象要素**:
- txtTitle（タイトル）
- txtCustomerName（顧客名）
- txtGreeting（挨拶文）
- txtAmountLabel（金額ラベル）
- tblInvoiceDetails（テーブル）
- その他すべてのテキスト要素

#### 2. タイトルスタイルの修正
**現状**:
```xml
<FontSize>36pt</FontSize>
<FontWeight>400</FontWeight>
<BackgroundColor>#697683</BackgroundColor>
<Color>#efedea</Color>
```

**推奨修正**:
```xml
<FontSize>18pt</FontSize>
<FontWeight>700</FontWeight>
<BackgroundColor>#FFFFFF</BackgroundColor>
<Color>#000000</Color>
```

#### 3. テキスト色の統一
**変更箇所**:
- すべての `<Color>#505050</Color>` → `<Color>#000000</Color>`
- すべての `<Color>#efedea</Color>` → `<Color>#000000</Color>`

### 優先度：中

#### 4. テーブルヘッダーのスタイル修正
**推奨設定**:
```xml
<Style>
    <BackgroundColor>#FFFFFF</BackgroundColor>
    <Color>#000000</Color>
    <FontFamily>MS ゴシック</FontFamily>
    <FontSize>9pt</FontSize>
    <FontWeight>700</FontWeight>
</Style>
```

#### 5. 罫線色の統一
**変更箇所**:
- すべての `<BorderColor>#697683</BorderColor>` → `<BorderColor>#000000</BorderColor>`

#### 6. レイアウト調整
**タイトル余白**:
```xml
<!-- 現在 -->
<Top>0.383667cm</Top>

<!-- 推奨 -->
<Top>1.0cm</Top>  <!-- 10mm相当 -->
```

**宛先情報配置**:
```xml
<!-- 現在 -->
<Top>3.939666cm</Top>
<Left>0cm</Left>

<!-- 推奨 -->
<Top>3.0cm</Top>  <!-- 30mm相当 -->
<Left>1.0cm</Left>  <!-- 10mm相当 -->
```

### 優先度：低

#### 7. 背景色の追加（宛先情報）
仕様書では宛先情報にピンク系の背景色を指定:
```xml
<BackgroundColor>#FFF0F5</BackgroundColor>
```

## 注意事項・検討事項

### ⚠️ 帳票種類の相違について
- **デザイン仕様書**: 売上伝票用
- **実装**: 請求書

**推奨アクション**:
1. 請求書専用のデザイン仕様書を作成
2. または、共通デザイン仕様として両方に適用可能か検討
3. 売上伝票と請求書で異なる配色（グレーブルー vs 標準）を許容するか決定

### 📋 標準フォントの決定
プロジェクト全体で使用する標準フォントを決定する必要があります:

**選択肢**:
1. **MS ゴシック**: Windowsに標準搭載、仕様書で指定
2. **IPAゴシック**: オープンソース、現在の実装で使用
3. **メイリオ**: 視認性が高い、現代的

**推奨**: プロジェクトチームで合意形成後、仕様書を更新

## 次のステップ

### ステップ1: 方針決定
- [ ] 標準フォントの決定（MS ゴシック or IPAゴシック）
- [ ] 配色方針の決定（標準黒 or グレーブルー系）
- [ ] 請求書専用仕様書の必要性を判断

### ステップ2: 修正実施
- [ ] 優先度：高の修正を適用
- [ ] 優先度：中の修正を適用
- [ ] テストデータで表示確認

### ステップ3: 再レビュー
```
/reviewReport ActiveReport/Report/Invoice_bluegray.rdlx
```
修正後、再度レビューを実行して相違点が解消されたことを確認

### ステップ4: ドキュメント更新
- [ ] 請求書用デザイン仕様書を作成（必要な場合）
- [ ] 共通デザイン仕様書を更新（フォント・色の標準を明確化）
- [ ] 変更履歴をGitにコミット

## 参考資料

- **テンプレート**: [report-design-template.md](../../report-design-template.md)
- **共通デザイン仕様書**: [.github/report-common-design.md](../../.github/report-common-design.md)
- **ActiveReports設計ガイド**: [.github/activereports-design-guide.md](../../.github/activereports-design-guide.md)

## レビュー実行コマンド

このレビューは以下のコマンドで実行されました:
```
/reviewReport ActiveReport/Report/Invoice_bluegray.rdlx
```

再レビュー時も同じコマンドを使用してください。
